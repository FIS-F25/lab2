# Password Attacks

**Online attacks** present multiple issues:

- Risk of detection/blocking
- Rate limiting by servers
- Slow feedback due to network delay
- Impossible to automate when CAPTCHAs are enforced

**Offline attacks** are much more approachable (like bringing a sealed safe home). Examples include:

- Capturing a wireless handshake for later decryption
- Cracking an encrypted file (ZIP Archive, KeePass DB, ...)
- Uncovering a user's password given `passwd` and `shadow` files (your task).

## Practice

- Build `john` from source

    ```execute
    git clone https://github.com/openwall/john -b bleeding-jumbo john
    cd john/src/
    ./configure
    sudo make install
    make -s clean && make -sj4
    ```

- Use `zip2john` to crack a password-protected archive

    ```execute
    wget http://renderer:10082/workshop/content/archive.zip
    zip2john archive.zip > zip.hashes
    john zip.hashes
    ```

## Exercise 3

A path traveral exploit for a web app allowed you to see the content of `/etc/passwd` and `/etc/shadow` for a target system [recall the format](https://en.wikipedia.org/wiki/Passwd#Password_file)

- Passwd entry: ``dev:x:1001:1001::/home/dev:/usr/bin/fish``{{copy}}
- Shadow entry ``dev:$y$j9T$g3GP/xAvGNuETEqlI.ifO/$0bqofShzjiLT1v0dMyvlirrJa2II9X3fTEQVnqCmi3/:20326:0:99999:7:::``{{copy}}

Use `john` or `hashcat` to crack the password.

> Recall: [UNIX Password Scheme](https://d2vlcm61l7u1fs.cloudfront.net/media%2F608%2F6087c87d-da9d-4d24-bffc-5802f54192d8%2Fphp3KhbvO.png)
